<section class="deck-slide">
    <h1>XState extended</h1>
    <aside class="notes">
        <i>switch branch to extended/2</i>
        <ul>
            <li>Requests etc.</li>
        </ul>
    </aside>
</section>
<section>
    <h2>Promises</h2>
    <aside class="notes">
        <i>branch extended/2</i>
        <ul>
            <li>fetch some quiz data</li>
        </ul>
    </aside>

    <pre class="fragment fade-in">
        <code data-trim data-line-numbers="2|3,9|6" class="language-typescript">
myState: {
  src: () => myFetchPromise(),
  onDone: {
    target: 'quiz',
    actions: assign({
        questions: (_, event) => event.data,
    }),
  },
  onError: {
    target: 'failure',
  },
}
        </code>
    </pre>

    <aside class="notes">
        Fetch quiz data
        <ul>
            <li>We need more states: Loading, Error</li>
            <li>Updated code in background</li>
            <li>No problem in the visualization</li>
        </ul>
    </aside>

</section>

<section>
    <h2><a href="http://localhost:3000/" target="_blank">Let's fetch ðŸŽ£</a></h2>
    <aside class="notes">
        Let's look only at viz <br>
        <i>timeout</i>

    </aside>
</section>

<section>
    <h2>Timers</h2>
    <a href="http://localhost:3000/" target="_blank">
    <pre class="fragment fade-in">
            <code data-trim data-line-numbers="2-4" class="language-typescript">
failure: {
  after: {
    5000: 'loading',
  }
},
        </code>
    </pre>
    </a>
</section>
